{% extends 'base/base.html' %}
{% block content %}

<div>
    <div class="row">
        <div class="col-sm-1 offset-sm-11">
            <a class="btn btn-primary" href="{% url 'portfolios:portfolio_new' %}"><i class="fa fa-plus" aria-hidden="true"></i> Add Portfolio</a>
        </div>
        
    </div>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Property Count</th>
            <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        {% if object_list %}
        {% for portfolio in object_list %}
        <tr>
            <th scope="row">{{portfolio.id}}</th>
            <td>{{portfolio.name}}</td>
            <td>{{portfolio.property_set.all|length}}</td>
            <td>
                <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
                    <div class="btn-group" role="group" aria-label="First group">
                        <a class="btn btn-primary" href="{% url 'properties:property_new' portfolio_id=portfolio.id %}">Add
                            Property</a>
                        <a href="{% url 'portfolios:portfolio_view' portfolio.id %}" class="btn btn-primary">View</a>
                        <a href="{% url 'portfolios:portfolio_edit' portfolio.id %}" class="btn btn-info">Edit</a>
                        <a href="{% url 'portfolios:portfolio_delete' portfolio.id %}" class="btn btn-danger">Delete</a>
                    </div>
                </div>
            </td>
        </tr>
        {% endfor%}
        {% else %}
        <tr>
            <td>
                No portfolio's.
            </td>
        </tr>
            
        {% endif %}
        </tbody>
    </table>
</div>

{% endblock content %}